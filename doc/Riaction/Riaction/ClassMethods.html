<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Riaction::Riaction::ClassMethods
  
    &mdash; Documentation by YARD 0.7.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Riaction.html" title="Riaction (module)">Riaction</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Riaction.html" title="Riaction::Riaction (module)">Riaction</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Riaction::Riaction::ClassMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/riaction/riaction.rb</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#establish_riactionary_class-instance_method" title="#establish_riactionary_class (instance method)">- (Object) <strong>establish_riactionary_class</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Patches a class to turn it into a riactionary class, providing some default
checks and attributes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#establish_riactionary_event_class-instance_method" title="#establish_riactionary_event_class (instance method)">- (Object) <strong>establish_riactionary_event_class</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#establish_riactionary_profile_class-instance_method" title="#establish_riactionary_profile_class (instance method)">- (Object) <strong>establish_riactionary_profile_class</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#riaction-instance_method" title="#riaction (instance method)">- (Object) <strong>riaction</strong>(type, opts) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#riaction_events%3F-instance_method" title="#riaction_events? (instance method)">- (Boolean) <strong>riaction_events?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#riaction_profile%3F-instance_method" title="#riaction_profile? (instance method)">- (Boolean) <strong>riaction_profile?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#riactionary%3F-instance_method" title="#riactionary? (instance method)">- (Boolean) <strong>riactionary?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="establish_riactionary_class-instance_method">
  
    - (<tt>Object</tt>) <strong>establish_riactionary_class</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Patches a class to turn it into a riactionary class, providing some default
checks and attributes</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_establish_riactionary_class'>establish_riactionary_class</span>
  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>

    <span class='comment'># returns true if a class has riaction setup
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_riactionary?'>riactionary?</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riactionless?'>riactionless?</span>
      <span class='ivar'>@riactionless</span> <span class='op'>||=</span> <span class='kw'>false</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_profile_keys'>riaction_profile_keys</span>
      <span class='ivar'>@riaction_profile_keys</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_events'>riaction_events</span>
      <span class='ivar'>@riaction_events</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_options'>riaction_options</span>
      <span class='ivar'>@riaction_options</span> <span class='op'>||=</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_riaction_options'>riaction_options</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_use_profile'>riaction_use_profile</span>
      <span class='ivar'>@riaction_use_profile</span> <span class='op'>||=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riactionless'>riactionless</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='ivar'>@riactionless</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>begin</span>
          <span class='id identifier rubyid_block_value'>block_value</span> <span class='op'>=</span> <span class='kw'>yield</span>
        <span class='kw'>ensure</span>
          <span class='ivar'>@riactionless</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_reset_riaction'>reset_riaction</span>
      <span class='id identifier rubyid_riaction_profile_keys'>riaction_profile_keys</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
      <span class='id identifier rubyid_riaction_events'>riaction_events</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
      <span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='rparen'>)</span>
      <span class='ivar'>@riaction_use_profile</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_add_or_update_riaction_profile'>add_or_update_riaction_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:display_name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='id identifier rubyid_display_name'>display_name</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>Proc</span><span class='comma'>,</span> <span class='const'>NilClass</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_supported_identifier_types'>supported_identifier_types</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ConfigurationError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'> defining a riaction profile must use supported IActionable types: </span><span class='embexpr_beg'>#{</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_supported_identifier_types'>supported_identifier_types</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_riaction_profile_keys'>riaction_profile_keys</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='lbrace'>{</span>
        <span class='symbol'>:display_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_display_name'>display_name</span><span class='comma'>,</span>
        <span class='symbol'>:identifiers</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_opts'>opts</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='ivar'>@riaction_use_profile</span> <span class='op'>||=</span> <span class='id identifier rubyid_type'>type</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_add_or_update_riaction_event'>add_or_update_riaction_event</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
      <span class='comment'># set values
</span>      <span class='id identifier rubyid_trigger'>trigger</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:trigger</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='symbol'>:create</span>
      <span class='id identifier rubyid_profile'>profile</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:profile</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_profile_type'>profile_type</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:profile_type</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:params</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_guard'>guard</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:if</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:guard</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>true</span>
      <span class='comment'># check for required types and presence
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_profile'>profile</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ConfigurationError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'> defining a riaction event must provide a profile</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:trigger</span><span class='comma'>,</span> <span class='id identifier rubyid_trigger'>trigger</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:profile</span><span class='comma'>,</span> <span class='id identifier rubyid_profile'>profile</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>Proc</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:profile_type</span><span class='comma'>,</span> <span class='id identifier rubyid_profile_type'>profile_type</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>NilClass</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:params</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>Proc</span><span class='comma'>,</span> <span class='const'>Hash</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='symbol'>:guard</span><span class='comma'>,</span> <span class='id identifier rubyid_guard'>guard</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>Proc</span><span class='comma'>,</span> <span class='const'>TrueClass</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='comment'># store our event data
</span>      <span class='id identifier rubyid_riaction_events'>riaction_events</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='lbrace'>{</span>
        <span class='symbol'>:trigger</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_trigger'>trigger</span><span class='comma'>,</span>
        <span class='symbol'>:profile</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_profile'>profile</span><span class='comma'>,</span>
        <span class='symbol'>:profile_type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_profile_type'>profile_type</span><span class='comma'>,</span>
        <span class='symbol'>:params</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='comma'>,</span>
        <span class='symbol'>:guard</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_guard'>guard</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='comment'># create necessary callbacks and instance methods for triggers
</span>      <span class='kw'>if</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_crud_actions'>crud_actions</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span> <span class='id identifier rubyid_trigger'>trigger</span>
        <span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_trigger'>trigger</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>CrudEventCallback</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trigger_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_trigger'>trigger</span><span class='rbrace'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
          <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_riaction_log_event?'>riaction_log_event?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_riactionless?'>riactionless?</span>
            <span class='const'>Resque</span><span class='period'>.</span><span class='id identifier rubyid_enqueue'>enqueue</span><span class='lparen'>(</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>EventPerformer</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_base_class'>base_class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_profile_types_defined'>riaction_profile_types_defined</span>
      <span class='id identifier rubyid_riaction_profile_keys'>riaction_profile_keys</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_events_defined'>riaction_events_defined</span>
      <span class='id identifier rubyid_riaction_events'>riaction_events</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_check_type'>riaction_check_type</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_allowed_types'>allowed_types</span><span class='rparen'>)</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_allowed_types'>allowed_types</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ConfigurationError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value given for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_content'> must be of types: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_allowed_types'>allowed_types</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>, </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_include'>include</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>InstanceMethods</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="establish_riactionary_event_class-instance_method">
  
    - (<tt>Object</tt>) <strong>establish_riactionary_event_class</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 175</span>

<span class='kw'>def</span> <span class='id identifier rubyid_establish_riactionary_event_class'>establish_riactionary_event_class</span>
  <span class='lparen'>(</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>EVENT_CLASSES</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>

  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_events?'>riaction_events?</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_defines_event?'>riaction_defines_event?</span><span class='lparen'>(</span><span class='id identifier rubyid_event_name'>event_name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_riaction_events'>riaction_events</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_event_name'>event_name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_include'>include</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Event</span><span class='op'>::</span><span class='const'>InstanceMethods</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="establish_riactionary_profile_class-instance_method">
  
    - (<tt>Object</tt>) <strong>establish_riactionary_profile_class</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_establish_riactionary_profile_class'>establish_riactionary_profile_class</span>
  <span class='lparen'>(</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>PROFILE_CLASSES</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq!'>uniq!</span>

  <span class='kw'>class</span> <span class='op'>&lt;&lt;</span> <span class='kw'>self</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_riaction_profile?'>riaction_profile?</span>
      <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_include'>include</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Profile</span><span class='op'>::</span><span class='const'>InstanceMethods</span>

  <span class='id identifier rubyid_after_create'>after_create</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>ProfileCreationCallback</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="riaction-instance_method">
  
    - (<tt>Object</tt>) <strong>riaction</strong>(type, opts) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_riaction'>riaction</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_establish_riactionary_class'>establish_riactionary_class</span> <span class='kw'>unless</span> <span class='id identifier rubyid_riactionary?'>riactionary?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:profile</span>
    <span class='id identifier rubyid_establish_riactionary_profile_class'>establish_riactionary_profile_class</span> <span class='kw'>unless</span> <span class='id identifier rubyid_riaction_profile?'>riaction_profile?</span>
    <span class='id identifier rubyid_add_or_update_riaction_profile'>add_or_update_riaction_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:type</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:event</span>
    <span class='id identifier rubyid_establish_riactionary_event_class'>establish_riactionary_event_class</span> <span class='kw'>unless</span> <span class='id identifier rubyid_riaction_events?'>riaction_events?</span>
    <span class='id identifier rubyid_add_or_update_riaction_event'>add_or_update_riaction_event</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:option</span> <span class='op'>||</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:options</span>
    <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='op'>::</span><span class='const'>Riaction</span><span class='op'>::</span><span class='const'>Constants</span><span class='period'>.</span><span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='rparen'>)</span>
        <span class='comment'># merge hashes, replace all else;
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='lbracket'>[</span><span class='id identifier rubyid_option'>option</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Hash</span>
          <span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='lbracket'>[</span><span class='id identifier rubyid_option'>option</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_riaction_options'>riaction_options</span><span class='lbracket'>[</span><span class='id identifier rubyid_option'>option</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="riaction_events?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>riaction_events?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_riaction_events?'>riaction_events?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="riaction_profile?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>riaction_profile?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 195</span>

<span class='kw'>def</span> <span class='id identifier rubyid_riaction_profile?'>riaction_profile?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="riactionary?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>riactionary?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/riaction/riaction.rb', line 191</span>

<span class='kw'>def</span> <span class='id identifier rubyid_riactionary?'>riactionary?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Mar 19 19:12:09 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.9.3).
</div>

  </body>
</html>